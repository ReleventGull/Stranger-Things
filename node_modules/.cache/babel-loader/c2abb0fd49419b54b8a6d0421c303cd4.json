{"ast":null,"code":"var _jsxFileName = \"/home/jaron/ClassProject/Stranger-Things/src/components/Posts.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { default as Postitem } from \"./Postsitem\";\nimport { deleteUserPost } from \"../api/Api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Posts = _ref => {\n  _s();\n  let {\n    posts,\n    token,\n    setPosts,\n    PostsResults,\n    setPostsResult\n  } = _ref;\n  const [searchInput, setSearchInput] = useState(\"\");\n  const handleDelete = async (postID, token) => {\n    try {\n      await deleteUserPost(postID, token);\n      const newPost = posts.filter(post => post._id !== postID);\n      setPosts(newPost);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const handlesubmit = event => {\n    event.preventDefault();\n    let searchLower = searchInput.toLowerCase();\n    setSearchInput(\"\");\n    const filteredPost = posts.filter(post => post.description.toLowerCase().includes(searchLower) || post.author.username.toLowerCase().includes(searchLower) || post.price.toLowerCase().includes(searchInput) || post.title.toLowerCase().includes(searchLower) || post.location.toLowerCase().includes(searchLower));\n    setPostsResult(filteredPost);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"posts-body\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-search\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handlesubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: searchInput,\n          onChange: event => setSearchInput(event.target.value),\n          className: \"search-post\",\n          placeholder: \"Search for a Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"search-post-button\",\n          children: \"Search Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPostsResult(posts),\n        className: \"back-button\",\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), token ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/makepost\",\n          className: \"create-post\",\n          children: \"Create a post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"create-post\",\n        children: \"Create an account!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), PostsResults.map(post => /*#__PURE__*/_jsxDEV(Postitem, {\n      post: post,\n      token: token,\n      setPosts: setPosts,\n      children: post.isAuthor ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete-post\",\n        onClick: () => handleDelete(post._id, token),\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this) : null\n    }, post._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(Posts, \"7jaUvtQT89vZZF+Gjg+8PUuVm+0=\");\n_c = Posts;\nexport default Posts;\nvar _c;\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["React","useState","Link","default","Postitem","deleteUserPost","Posts","posts","token","setPosts","PostsResults","setPostsResult","searchInput","setSearchInput","handleDelete","postID","newPost","filter","post","_id","error","console","handlesubmit","event","preventDefault","searchLower","toLowerCase","filteredPost","description","includes","author","username","price","title","location","target","value","map","isAuthor"],"sources":["/home/jaron/ClassProject/Stranger-Things/src/components/Posts.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { default as Postitem } from \"./Postsitem\";\nimport { deleteUserPost } from \"../api/Api\";\n\nconst Posts = ({ posts, token, setPosts, PostsResults, setPostsResult }) => {\n  const [searchInput, setSearchInput] = useState(\"\");\n\n  const handleDelete = async (postID, token) => {\n    try {\n      await deleteUserPost(postID, token);\n      const newPost = posts.filter((post) => post._id !== postID);\n      setPosts(newPost);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handlesubmit = (event) => {\n    event.preventDefault();\n    let searchLower = searchInput.toLowerCase();\n    setSearchInput(\"\");\n    const filteredPost = posts.filter(\n      (post) =>\n        post.description.toLowerCase().includes(searchLower) ||\n        post.author.username.toLowerCase().includes(searchLower) ||\n        post.price.toLowerCase().includes(searchInput) ||\n        post.title.toLowerCase().includes(searchLower) ||\n        post.location.toLowerCase().includes(searchLower)\n    );\n    setPostsResult(filteredPost);\n  };\n\n  return (\n    <div className=\"posts-body\">\n      <div className=\"post-search\">\n        <form onSubmit={handlesubmit}>\n          <input\n            value={searchInput}\n            onChange={(event) => setSearchInput(event.target.value)}\n            className=\"search-post\"\n            placeholder=\"Search for a Post\"\n          ></input>\n          <button type=\"submit\" className=\"search-post-button\">\n            Search Post\n          </button>\n        </form>\n        <button onClick={() => setPostsResult(posts)} className=\"back-button\">\n          Back\n        </button>\n        {token ? (\n          <>\n            <Link to=\"/makepost\" className=\"create-post\">\n              Create a post\n            </Link>\n          </>\n        ) : (\n          <div className=\"create-post\">Create an account!</div>\n        )}\n      </div>\n\n      {PostsResults.map((post) => (\n        <Postitem key={post._id} post={post} token={token} setPosts={setPosts}>\n          {post.isAuthor ? (\n            <button\n              className=\"delete-post\"\n              onClick={() => handleDelete(post._id, token)}\n            >\n              Delete\n            </button>\n          ) : null}\n        </Postitem>\n      ))}\n    </div>\n  );\n};\n\nexport default Posts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}