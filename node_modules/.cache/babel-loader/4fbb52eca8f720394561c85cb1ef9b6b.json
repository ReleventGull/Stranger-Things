{"ast":null,"code":"const BASEURL = \"https://strangers-things.herokuapp.com/api/2207-FTB-ET-WEB-PT\";\nexport const FetchPost = async token => {\n  try {\n    const response = await fetch(`${BASEURL}/posts`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const {\n      data\n    } = await response.json();\n    return data.posts;\n  } catch (error) {\n    console.error(error);\n  }\n};\n_c = FetchPost;\nexport const isUserLoggedIn = async token => {\n  if (token) {\n    console.log(\"token is true\", token);\n    return true;\n  } else {\n    return false;\n  }\n};\nexport const checkUsers = async (username, password) => {\n  try {\n    const response = await fetch('https://strangers-things.herokuapp.com/api/2207-FTB-ET-WEB-PT/users/login', {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user: {\n          username: username,\n          password: password\n        }\n      })\n    });\n    return await response.json();\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport const registerUser = async (username, password) => {\n  try {\n    const response = await fetch('https://strangers-things.herokuapp.com/api/2207-FTB-ET-WEB-PT/users/register', {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user: {\n          username: username,\n          password: password\n        }\n      })\n    });\n    return response.json();\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport const createPost = async (title, description, price, willDeliver, token) => {\n  try {\n    const response = await fetch('https://strangers-things.herokuapp.com/api/2207-FTB-ET-WEB-PT/posts', {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        post: {\n          title: title,\n          description: description,\n          price: price,\n          willDeliver: willDeliver\n        }\n      })\n    });\n    return response.json();\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport const deleteUserPost = async (postID, token) => {\n  try {\n    console.log(\"From API\", postID, token);\n    const response = await fetch(`${BASEURL}/posts/${postID}`, {\n      method: \"DELETE\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return response.json();\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport const createMessage = async (message, token, postID) => {\n  try {\n    const response = await fetch(`${BASEURL}/posts/${postID}/messages`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        message: {\n          content: `${message}`\n        }\n      })\n    });\n    return response.json();\n  } catch (error) {\n    console.error(error);\n  }\n};\nexport const fetchUserData = async token => {\n  try {\n    const reponse = await fetch('https://strangers-things.herokuapp.com/api/COHORT-NAME/users/me', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer TOKEN_STRING_HERE'\n      }\n    });\n  } catch (error) {\n    console.error(error);\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"FetchPost\");","map":{"version":3,"names":["BASEURL","FetchPost","token","response","fetch","headers","data","json","posts","error","console","isUserLoggedIn","log","checkUsers","username","password","method","body","JSON","stringify","user","registerUser","createPost","title","description","price","willDeliver","post","deleteUserPost","postID","createMessage","message","content","fetchUserData","reponse"],"sources":["/home/jaron/ClassProject/Stranger-Things/src/api/Api.js"],"sourcesContent":["\n\nconst BASEURL = \"https://strangers-things.herokuapp.com/api/2207-FTB-ET-WEB-PT\"\n\nexport const FetchPost = async (token) => {\n    \n    try {\n        const response = await fetch(`${BASEURL}/posts`, {\n          headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n          }\n        })\n        const {data} = await response.json()\n        return data.posts\n\n    }catch(error) {\n        console.error(error)\n    }\n\n\n}\n\n\n\n\nexport const isUserLoggedIn = async (token) => {\n    if (token) {\n      console.log(\"token is true\",token)\n      return true\n    } else {\n      return false\n    }\n };\n\n\n\nexport const  checkUsers = async (username, password) => {\ntry {\n    const response = await fetch('https://strangers-things.herokuapp.com/api/2207-FTB-ET-WEB-PT/users/login', {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: {\n            username: username,\n            password: password\n          }\n        })\n      })\n      return await response.json()\n} catch(error) {\n    console.error(error)\n}\n}\n\n\n\nexport const registerUser = async (username, password) => {\n  try {\n    const response = await fetch('https://strangers-things.herokuapp.com/api/2207-FTB-ET-WEB-PT/users/register', {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: {\n            username: username,\n            password: password\n          }\n        })\n      })\n      return  response.json()\n} catch(error) {\n    console.error(error)\n}\n}\n\n\n\n\n\n\nexport const createPost = async(title, description, price, willDeliver, token) => {\n  try {\n    const response = await fetch('https://strangers-things.herokuapp.com/api/2207-FTB-ET-WEB-PT/posts', {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        post: {\n          title: title,\n          description: description,\n          price: price,\n          willDeliver: willDeliver\n          }\n        })\n      })\n      return  response.json()\n} catch(error) {\n    console.error(error)\n}}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport const deleteUserPost = async(postID, token) => {\n  try {\n    console.log(\"From API\", postID, token)\n  const response = await fetch(`${BASEURL}/posts/${postID}`, {\n  method: \"DELETE\",\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`\n  }\n})\nreturn(response.json())\n}catch(error) {\n  console.error(error)\n}\n}\n\n\n\n\n\n\n\nexport const createMessage = async(message, token, postID) => {\n  try {\n  const response = await fetch(`${BASEURL}/posts/${postID}/messages`, {\n  method: \"POST\",\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`\n  },\n  body: JSON.stringify({\n    message: {\n      content: `${message}`\n    }\n  })\n})\n\nreturn response.json()\n}catch(error) {\n  console.error(error)\n}}\n\n\n\n\nexport const fetchUserData = async(token) => {\n  try {\n    const reponse = await fetch('https://strangers-things.herokuapp.com/api/COHORT-NAME/users/me', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer TOKEN_STRING_HERE'\n      },\n    })\n  }catch(error) {\n    console.error(error)\n  }\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}